<!doctype html>
<html lang="en">
<head>
<title>Reports Portal</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="css/styles.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js"></script>
<script src="validate.js"></script>
<!--This script was added before validate.js, remove if validate.js works.
<script type="text/javascript">
	$(document).ready(function(){
		$("#uploadmessage").modal('show');
	});
</script>-->

<style>
	.help-black.error {
	  margin-bottom: 5px;
	}
</style>
	
</head>
<body>
	
<div>
		<div class="navbar navbar-expand-lg navbar-dark bg-primary">
			<div class="container-fluid">
				<a href="#" class="navbar-brand"><h3>Reports Portal</h3></a>
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor02" aria-controls="navbarColor01" aria-expanded="true" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
				</button>
				<div class="navbar-collapse collapse show" id="navbarColor01" style="">
					<ul class="navbar-nav mr-auto">
					<li class="nav-item">
					<a class="nav-link" href="index.html">Search Reports <span class="sr-only">(current)</span></a>
					</li>
					<li class="nav-item active">
					<a class="nav-link" href="upload.html">Upload Reports</a>
					</li>
					</ul>
				</div>
	  		</div>
		</div>
		<div class="row container">
			<div class="col-12 mt-4 ml-3">
			<h2>Upload Reports</h2>
			<p>Use the forms to upload operational and financial reports for the current fiscal year.</p>
			</div>
			<div class="col-sm-5 offset-sm-1 border pt-2"><h3>Upload Operational Reports</h3>
				<form id="main" class="form-horizontal" action="/example" method="post" novalidate>
				<label class="custom-file-lable mt-2">File for upload*</label>
				<div class="input-group mb-3">
					<div class="custom-file">
						<input type="file" class="custom-file-input" id="inputGroupFile02" required>
						<label class="custom-file-label" for="inputGroupFile02">Choose file</label>
					</div>
					<div class="input-group-append">
						<span class="input-group-text" id="">Upload</span>
					</div>
				</div>
				<div class="form-group">
					<label for="division">Reporting Division*</label>
					<select class="form-control" id="division" name="division">
					<option value=""></option>
					<option value="adm">ADM Division</option>
					<option value="hcm">HCM Division</option>
					<option value="itm">ITM Division</option>
					<option value="ops">OPS Division</option>
					<option value="sec">SEC Division</option>
					<option value="trc">TRC Division</option>
					</select>
				</div>
				<div class="form-group">
					<label for="time">Reporting Time Period*</label>
					<select class="form-control" id="time" name="time">
					<option value=""></option>
					<option value="q1">Q1</option>
					<option value="q2">Q2</option>
					<option value="q3">Q3</option>
					<option value="q4">Q4</option>
					</select>
				</div>
				<div class="form-group">
					<label for="state">Reporting State*</label>
					<select class="form-control" name="state" id="state" name="state">
					  <option value=""></option>
					  <option value="AL">Alabama</option>
					  <option value="AK">Alaska</option>
					  <option value="AZ">Arizona</option>
					  <option value="AR">Arkansas</option>
					  <option value="CA">California</option>
					  <option value="CO">Colorado</option>
					  <option value="CT">Connecticut</option>
					  <option value="DE">Delaware</option>
					  <option value="DC">District Of Columbia</option>
					  <option value="FL">Florida</option>
					  <option value="GA">Georgia</option>
					  <option value="HI">Hawaii</option>
					  <option value="ID">Idaho</option>
					  <option value="IL">Illinois</option>
					  <option value="IN">Indiana</option>
					  <option value="IA">Iowa</option>
					  <option value="KS">Kansas</option>
					  <option value="KY">Kentucky</option>
					  <option value="LA">Louisiana</option>
					  <option value="ME">Maine</option>
					  <option value="MD">Maryland</option>
					  <option value="MA">Massachusetts</option>
					  <option value="MI">Michigan</option>
					  <option value="MN">Minnesota</option>
					  <option value="MS">Mississippi</option>
					  <option value="MO">Missouri</option>
					  <option value="MT">Montana</option>
					  <option value="NE">Nebraska</option>
					  <option value="NV">Nevada</option>
					  <option value="NH">New Hampshire</option>
					  <option value="NJ">New Jersey</option>
					  <option value="NM">New Mexico</option>
					  <option value="NY">New York</option>
					  <option value="NC">North Carolina</option>
					  <option value="ND">North Dakota</option>
					  <option value="OH">Ohio</option>
					  <option value="OK">Oklahoma</option>
					  <option value="OR">Oregon</option>
					  <option value="PA">Pennsylvania</option>
					  <option value="RI">Rhode Island</option>
					  <option value="SC">South Carolina</option>
					  <option value="SD">South Dakota</option>
					  <option value="TN">Tennessee</option>
					  <option value="TX">Texas</option>
					  <option value="UT">Utah</option>
					  <option value="VT">Vermont</option>
					  <option value="VA">Virginia</option>
					  <option value="WA">Washington</option>
					  <option value="WV">West Virginia</option>
					  <option value="WI">Wisconsin</option>
					  <option value="WY">Wyoming</option>
					</select>
				</div>
				<form>
					<div class="form-group">
						<label for="email">Content Owner's Email Address*</label>
						<input type="email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="Enter email" name="email">
						<div class="invalid-feedback">Please choose the content owner's email address.</div>
					</div>
				</form>
				<button class="btn btn-primary" type="submit">Save &amp; Upload Operational Report</button>
				</form>
			</div>
			<div class="col-sm-5 offset-sm-1 border pt-2"><h3>Upload Financial Reports</h3>
				<form id="main" class="form-horizontal" action="/example" method="post" novalidate>
				<label class="custom-file-lable mt-2">File for upload*</label>
				<div class="input-group mb-3">
					<div class="custom-file">
						<input type="file" class="custom-file-input" id="inputGroupFile02b" required>
						<label class="custom-file-label" for="inputGroupFile02">Choose file</label>
					</div>
					<div class="input-group-append">
						<span class="input-group-text" id="">Upload</span>
					</div>
				</div>
				<label>Report Type*</label>
				<div class="radio">
					<label><input type="radio" name="optradio" class="mr-2">Budget Report</label>
				</div>
				<div class="radio">
					<label><input type="radio" name="optradio" class="mr-2">Expense Report</label>
				</div>
				<div class="radio">
					<label><input type="radio" name="optradio" class="mr-2">Forecast Report</label>
				</div>
				<div class="form-group mt-2">
					<label for="time2">Reporting Time Period*</label>
					<select class="form-control" id="time2" name="time2">
					<option value=""></option>
					<option value="q1">Q1</option>
					<option value="q2">Q2</option>
					<option value="q3">Q3</option>
					<option value="q4">Q4</option>
					</select>
				</div>
				<form>
					<div class="form-group">
						<label class="control-label" for="email">Content Owner's Email Address*</label>
						<input id="email" class="form-control" type="email" placeholder="Enter email" name="email" aria-describedby="emailHelp">
						<div class="col-sm-5 messages"></div>
					</div>
				</form>
				<button class="btn btn-primary" type="submit">Save &amp; Upload Financial Report</button>
				</form>
			</div>
	</div>
</div>
	
	<!-- Modal from prior to validate.js
	<div id="uploadmessage" class="modal fade" role="dialog">
	  <div class="modal-dialog" role="document">
		<div class="modal-content">
		  <div class="modal-header">
			  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
			  <h5 class="modal-title" id="uploadmessagelongtitle">Success!</h5>
		  </div>
		  <div class="modal-body">
			<p>You have successfully uploaded the report.</p>
		  </div>
		  <div class="modal-footer">
			<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
		  </div>
		</div>
	  </div>
	</div>  -->

<script>
	(function() {
		//contraints on email form
		var constraints = {
			email: {
				// Email is required
				presence: true,
				// and must be an email
				email: true
			},
			state: {
				// You need to input the reporting state
				presence: true,
			}
		};
		var form = document.querySelector("form#main");
		form.addEventListener("submit", function(ev) {
			ev.preventDefault();
			handleFormSubmit(form);
		});
		var inputs = document.querySelectorAll("input, textarea, select")
		for (var i = 0; i < inputs.length; ++i) {
			inputs.item(i).addEventListener("change", function(ev) {
				var errors = validate(form, constraints) || {};
				showErrorsForInput(this, errors[this.name])
			});
		}
		
		function handleForSubmit(form, input) {
			// validate against constraints
			var errors = validate(form, constraints);
			// and update to reflect the results
			showErrors(form, errors || {});
			if (!errors) {
				showSuccess();
			}
		}
		
		function showErrors(form, errors) {
			_.each(form.querySelectorAll("input[name], select[name]"), function(input) {
				showErrorsForInput(input, errors && errors[input.name]);
			});
		}
		
		function showErrorsForInput(input, errors) {
			var formGroup = closestParent(input.parentNode, "form-group")
			, message = formGroup.querySelector(".messages");
			resetFormGroup(formGroup);
			if (errors) {
				formGroup.classList.add("has-error");
				_.each(errors, function(error) {
					addError(messages, error);
				});
			} else {
				formGroup.classList.add("has-success");
			  }
			}
		
		function closestParent(child, className) {
			if (!child || child == document) {
				return null;
			}
			if (child.classList.contains(className)) {
				return child;
			  } else {
				  return closestParent(child.parentNode, className);
			  }
			}
		
		function resetFormGroup(formGroup) {
			formGroup.classList.remove("has-error");
			formGroup.classList.remove("has-success");
			_.each(formGroup.querySelectorAll(".help-block.error"), function(el) {
				el.parentNode.removeChild(el);
			});
		}
		
		function addError(messages,error) {
			var block = document.createElement("p");
			block.classList.add("help-block");
			block.classList.add("error");
			block.innerText = error;
			messages.appendChild(block);
		}
		
		function showSuccess() {
			alert("Success!");
		}	
	})();
</script>

	
</body>
</html>
